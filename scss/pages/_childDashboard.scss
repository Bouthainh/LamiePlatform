// Child Dashboard - ViewModel Version
body {
  direction: rtl;
  font-family: $primary-font;
  background-color: $light-bg;
  padding: $spacing-md;
  min-height: 100vh;

  // Dashboard Header
  .dashboard-header {
    background: $white;
    border-radius: 20px;
    padding: $spacing-xl;
    margin-bottom: $spacing-lg;
    text-align: center;
    @include card-shadow;
    position: relative;

    h2 {
      color: $purple-color;
      font-size: 28px;
      font-weight: 700;
      margin: 0 0 $spacing-sm;
    }

    p {
      color: $text-dark;
      font-size: $font-size-base;
      margin: 0 0 $spacing-md;
      font-weight: 500;
    }

    .child-avatar {
      width: 100px;
      height: 100px;
      margin: 0 auto;
      border-radius: 50%;
      overflow: hidden;
      border: 4px solid $child-light-blue;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

      img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    @include respond-to(mobile) {
      padding: $spacing-md;

      h2 {
        font-size: 22px;
      }

      .child-avatar {
        width: 80px;
        height: 80px;
      }
    }
  }

  // Challenges Boxes
  .challenges-box {
    background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
    border: 2px solid #ffe8a3;
    border-radius: 18px;
    padding: $spacing-lg;
    margin-bottom: $spacing-md;
    display: inline-block;
    width: calc(50% - #{$spacing-sm});
    vertical-align: top;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    @include transition(transform);

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    }

    &:nth-of-type(2) {
      margin-left: $spacing-md;
    }

    h4 {
      color: $text-dark;
      font-size: 17px;
      font-weight: 700;
      margin: 0 0 $spacing-sm;
      padding-bottom: $spacing-xs;
      border-bottom: 2px solid rgba(#ffd54f, 0.3);
    }

    p {
      color: $text-dark;
      font-size: 24px;
      font-weight: 700;
      margin: 0;
      text-align: center;
    }

    @include respond-to(mobile) {
      width: 100%;
      margin-left: 0 !important;
    }
  }

  // Educator Box
  .educator-box {
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
    border: 2px solid #80deea;
    border-radius: 18px;
    padding: $spacing-lg;
    margin-bottom: $spacing-md;
    text-align: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    @include transition(transform);

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    }

    h4 {
      color: $text-dark;
      font-size: 18px;
      font-weight: 700;
      margin: 0 0 $spacing-md;
      padding-bottom: $spacing-xs;
      border-bottom: 2px solid rgba(#4dd0e1, 0.3);
    }

    p {
      color: $text-dark;
      font-size: $font-size-base;
      font-weight: 700;
      margin: $spacing-xs 0;
    }

    small {
      color: $text-light;
      font-size: $font-size-small;
      display: block;
      margin-bottom: $spacing-md;
    }

    button {
      background: $secondary-color;
      color: $white;
      border: none;
      padding: $spacing-xs $spacing-lg;
      border-radius: 10px;
      font-weight: 600;
      font-size: $font-size-small;
      cursor: pointer;
      @include transition(all);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

      &:hover {
        background: darken($secondary-color, 10%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba($secondary-color, 0.4);
      }
    }

    @include respond-to(mobile) {
      padding: $spacing-md;
    }
  }

  // Generic Box (Activities & Reports)
  .box {
    background: linear-gradient(135deg, #fff0f5 0%, #ffe4e1 100%);
    border: 2px solid #ffcdd2;
    border-radius: 18px;
    padding: $spacing-lg;
    margin-bottom: $spacing-md;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    @include transition(transform);

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    }

    &:nth-of-type(5) {
      background: linear-gradient(135deg, #fffbf0 0%, #fff8e1 100%);
      border-color: #fff59d;
    }

    h4 {
      color: $text-dark;
      font-size: 18px;
      font-weight: 700;
      margin: 0 0 $spacing-md;
      padding-bottom: $spacing-xs;
      border-bottom: 2px solid rgba($primary-color, 0.3);
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;

      li {
        background: rgba($white, 0.6);
        padding: $spacing-sm;
        margin-bottom: $spacing-xs;
        border-radius: 10px;
        color: $text-dark;
        font-size: $font-size-small;
        font-weight: 500;
        border: 1px solid rgba($primary-color, 0.2);

        &:last-child {
          margin-bottom: 0;
        }
      }
    }

    @include respond-to(mobile) {
      padding: $spacing-md;
    }
  }

  // Chart Boxes
  .chart-box {
    background: linear-gradient(135deg, #f3e5f5 0%, #fce4ec 100%);
    border: 2px solid #e1bee7;
    border-radius: 18px;
    padding: $spacing-lg;
    margin-bottom: $spacing-md;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    @include transition(transform);

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    }

    &:last-of-type {
      background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
      border-color: #80cbc4;
    }

    h4 {
      color: $purple-color;
      font-size: 18px;
      font-weight: 700;
      margin: 0 0 $spacing-md;
      padding-bottom: $spacing-xs;
      border-bottom: 2px solid rgba($purple-color, 0.3);
      text-align: center;
    }

    canvas {
      max-width: 100%;
      height: auto;
      min-height: 250px;
    }

    @include respond-to(mobile) {
      padding: $spacing-md;

      canvas {
        min-height: 200px;
      }
    }
  }

  // Responsive Grid Layout
  @media (min-width: 768px) {
    max-width: 1200px;
    margin: 0 auto;
    padding: $spacing-lg;

    // Create grid for boxes
    .challenges-box,
    .educator-box,
    .box,
    .chart-box {
      display: inline-block;
      vertical-align: top;
    }

    // Two columns for chart boxes
    .chart-box {
      width: calc(50% - #{$spacing-sm});

      &:nth-of-type(6) {
        margin-left: $spacing-md;
      }
    }
  }

  @include respond-to(mobile) {
    padding: $spacing-sm;

    .challenges-box,
    .educator-box,
    .box,
    .chart-box {
      width: 100% !important;
      margin-left: 0 !important;
    }
  }
}

// Override for better layout on larger screens
@media (min-width: 1024px) {
  body {
    .box,
    .educator-box {
      width: calc(50% - #{$spacing-sm});

      &:nth-of-type(4) {
        margin-left: 0;
      }

      &:nth-of-type(5) {
        margin-left: $spacing-md;
      }
    }
  }
}